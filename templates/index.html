<!doctype html>
<html>
  <head>
    <title>Sudoku Solver</title>
  </head>
  <body style="font-family:Arial">
    <h1>Sudoku Solver</h1>

<form method="post">
  <table style="border-collapse: collapse;">
    <!-- 9x9 Sudoku grid -->
    {% for r in range(9) %}
      <tr>
        {% for c in range(9) %}
          <!-- Thicker borders every 3 rows/columns to show 3x3 Sudoku boxes -->
          <td style="
            border-left: {{ '3px' if c % 3 == 0 else '1px' }} solid black;
            border-top: {{ '3px' if r % 3 == 0 else '1px' }} solid black;
            border-right: {{ '3px' if c == 8 else '1px' }} solid black;
            border-bottom: {{ '3px' if r == 8 else '1px' }} solid black;
            width: 36px;
            height: 36px;
            text-align: center;
          ">
            <input
              type="text"
              name="cell_{{ r }}_{{ c }}"
              value="{{ grid[r][c] }}"
              maxlength="1"
              inputmode="numeric"
              style="width: 32px; height: 32px; text-align: center; font-size: 16px;"
            >
          </td>
        {% endfor %}
      </tr>
    {% endfor %}
  </table>

  <!-- Action buttons -->
  <br>
  <button type="submit" name="action" value="solve">Solve</button>
  <button type="submit" name="action" value="clear">Clear</button>
</form>

    <!-- Puzzle variable is initially empty (false), only shows if populated -->
    {% if puzzle %}
      <h2>You entered:</h2>
      <pre>{{ puzzle }}</pre>
    {% endif %}

    <!-- If there is a solution, display -->
    {% if solution %}
      <h2>Solution:</h2>
      <pre>{{ solution }}</pre>
    {% endif %}

    <!-- If there is an error, including if there is no solution, display -->
    {% if error %}
      <h2>Error:</h2>
      <pre>{{ error }}</pre>
    {% endif %}

  </body>
</html>